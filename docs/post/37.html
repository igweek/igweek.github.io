<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    <script async src='https://www.googletagmanager.com/gtag/js?id=G-5KH0XJYCQ7'></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-5KH0XJYCQ7');</script><script defer src="https://umami.myla.eu.org/script.js" data-website-id="a7942b92-e528-4d9b-a65a-4c19d4a8b4f1"></script><script src='/plugins/GmeekVercount.js'></script>
    <link rel="icon" href="/img/123.png"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="本场景将提供一台配置了CentOS 7.7版本的ECS实例（云服务器）和两块高效云盘的数据盘。">
<meta property="og:title" content="阿里云块存储">
<meta property="og:description" content="本场景将提供一台配置了CentOS 7.7版本的ECS实例（云服务器）和两块高效云盘的数据盘。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://bbs.017121.xyz/post/37.html">
<meta property="og:image" content="/img/123.png">
<title>阿里云块存储</title>



</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
.copy-feedback {
    display: none;
    position: absolute;
    top: 10px;
    right: 50px;
    color: var(--color-fg-on-emphasis);
    background-color: var(--color-fg-muted);
    border-radius: 3px;
    padding: 5px 8px;
    font-size: 12px;
}
</style>
<style>/* 基础Body样式 */ body { min-width: 200px; max-width: 920px; margin: 20px auto; padding: 45px; font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji; color: #595959; font-size: 16px; line-height: 1.8em; background-color: rgba(255,255,255,0.9); word-wrap: break-word; } /* 暗黑模式适配 */ html[data-color-mode='dark'] body { background-color: #0d1117 !important; color: #c9d1d9 !important; } html[data-color-mode='dark'] { background-color: #0d1117 !important; } /* 元素样式优化 */ blockquote { margin-left: 0; background-color: #ebf4ff; border-color: #7f9cf5; padding-top: .5rem; padding-bottom: .5rem; color: #667eea; } strong { color: #5a67d8; } code, a { color: #5a67d8; } a { border-color: #667eea; border-bottom: 0; } code { background-color: #ebf4ff; } blockquote, details, dl, ol, p, pre, table, ul { margin-bottom: 1rem; } ol { list-style: decimal; } ul { list-style: disc; } ol, ul { padding-left: 2em; } h1, h2 { border-color: #5a67d8; border-style: solid; border-top-width: 0; border-right-width: 0; font-weight: 500; padding-top: .25rem; padding-bottom: .25rem; padding-left: .75rem; } h1 { border-bottom: 0 !important; border-left-width: 0; } h2 { border-bottom: 1px solid #eaecef !important; border-left-width: 6px; } h1, h2, h3, h4, h5, h6 { margin-bottom: 16px; line-height: 1.25; } blockquote { padding-top: .5rem; padding-bottom: .5rem; padding-left: 1rem; padding-right: .5rem; border-left: .25em solid; } blockquote>:last-child { margin-bottom: 0; } blockquote>:first-child { margin-top: 0; } strong { font-weight: 700; } strong::before { content: '「'; } strong::after { content: '」'; } code, a { font-weight: 500; } code, a { font-size: unset; } a { text-decoration: none; } .footnote-ref { border-width: 0; } code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; } pre>code { font-weight: 400; color: unset; line-height: 1.6; } picture img { border-radius: 6px; display: block; margin: 10px 0; object-fit: contain; box-shadow: 2px 4px 7px #999; } img { max-width: 100%; display: block; margin: 10px 0; object-fit: contain; border-radius: 6px; box-shadow: 2px 4px 7px #999; } picture { display: flex; flex-direction: column; align-items: flex-start; margin-top: 6px; margin-bottom: 6px; } pre, pre code[class*="language-"] { display: block; overflow-x: auto; padding: 0; } pre code[class*="language-"] { padding: 12px; padding-top: 6px; } .svg-markmap-box { min-height: 20rem; width: 100%; } .footnotes { padding-top: .5rem; padding-bottom: .5rem; } code[class*="language-"], pre[class*="language-"] { color: #f8f8f2; background: none; text-shadow: 0 1px rgba(0, 0, 0, .3); font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; font-size: 1em; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; word-wrap: normal; line-height: 1.5; -moz-tab-size: 4; -o-tab-size: 4; tab-size: 4; -webkit-hyphens: none; -moz-hyphens: none; -ms-hyphens: none; hyphens: none; } /* 代码块修复 */ pre[class*="language-"] { padding: 1em; margin: .5em 0; overflow-x: auto; overflow-y: hidden; border-radius: 6px; } :not(pre)>code[class*="language-"], pre[class*="language-"] { background: #272822; } :not(pre)>code[class*="language-"] { padding: .1em; border-radius: .3em; white-space: normal; } .token.comment, .token.prolog, .token.doctype, .token.cdata { color: #8292a2; } .token.punctuation { color: #f8f8f2; } .token.namespace { opacity: .7; } .token.property, .token.tag, .token.constant, .token.symbol, .token.deleted { color: #f92672; } .token.boolean, .token.number { color: #ae81ff; } .token.selector, .token.attr-name, .token.string, .token.char,.token.builtin, .token.inserted { color: #a6e22e; } .token.operator, .token.entity, .token.url, .language-css .token.string, .style .token.string, .token.variable { color: #f8f8f2; } .token.atrule, .token.attr-value, .token.function, .token.class-name { color: #e6db74; } .token.keyword { color: #66d9ef; } .token.regex, .token.important { color: #fd971f; } .token.important, .token.bold { font-weight: 700; } .token.italic { font-style: italic; } .token.entity { cursor: help; } h3 { padding-left: .75rem; border-left: 4px solid #5a67d8; } /* 移动端适配：屏幕小于600px时减小内边距 */ @media (max-width: 600px) { body { padding: 8px !important; } } </style>



<body>
    <div id="header">
<h1 class="postTitle">阿里云块存储</h1>
<div class="title-right">
    <a href="https://bbs.017121.xyz" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/igweek/igweek.github.io/issues/37" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><p>本场景将提供一台配置了CentOS 7.7版本的ECS实例（云服务器）和两块高效云盘的数据盘。通过本教程的操作，您可以通过阿里云控制台和Linux操作系统，快速入门块存储。</p>
<p>体验此场景后，可以掌握的知识有：</p>
<ol>
<li>
<p>挂载数据盘。</p>
</li>
<li>
<p>分区格式化数据盘（Linux）。</p>
</li>
<li>
<p>创建云盘快照。</p>
</li>
<li>
<p>重新初始化数据盘。</p>
</li>
<li>
<p>使用快照回滚云盘。</p>
</li>
<li>
<p>卸载数据盘。</p>
</li>
</ol>
<h2>背景知识</h2>
<p>本场景主要涉及以下云产品和服务：</p>
<ul>
<li><a href="https://help.aliyun.com/product/25365.html" rel="nofollow">云服务器ECS</a></li>
</ul>
<p>云服务器（Elastic Compute Service，简称ECS）是阿里云提供的性能卓越、稳定可靠、弹性扩展的IaaS（Infrastructure as a Service）级别云计算服务。一台云服务器ECS实例等同于一台虚拟服务器，内含CPU、内存、操作系统、网络配置、磁盘等基础的组件。云服务器ECS免去了您采购IT硬件的前期准备，让您像使用水、电、天然气等公共资源一样便捷、高效地使用服务器，实现计算资源的即开即用和弹性伸缩。阿里云ECS持续提供创新型服务器，解决多种业务需求，助力您的业务发展。</p>
<ul>
<li><a href="https://help.aliyun.com/document_detail/179017.html" rel="nofollow">块存储</a></li>
</ul>
<p>块存储是阿里云为云服务器ECS提供的块设备产品，具有高性能和低时延的特点，支持随机读写，满足大部分通用业务场景下的数据存储需求。您可以像使用物理硬盘一样格式化并建立文件系统来使用块存储。</p>
<p>块存储类型</p>
<p>阿里云为您的云服务器ECS提供了丰富的块存储产品，包括基于分布式存储架构的云盘和基于物理机本地硬盘的本地盘产品。</p>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th>块存储类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>云盘</td>
<td>ESSD云盘</td>
</tr>
<tr>
<td>SSD云盘</td>
<td>具备稳定的高随机读写性能、高可靠性的高性能云盘产品。<br><br>建议在I/O密集型应用、中小型关系数据库和NoSQL数据库等场景中使用。</td>
</tr>
<tr>
<td>高效云盘</td>
<td>具备高性价比、中等随机读写性能、高可靠性的云盘产品。<br><br>建议在开发与测试业务和系统盘等场景中使用。</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<h2>实验步骤</h2>
<p>通过ECS实例管理页面挂载数据盘。</p>
<p>4.1 在云服务器ECS控制台左侧导航栏中，选择实例与镜像&gt;实例。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/dded53de265dc39fbb4e818411570201257fee17c94d75799ca4fe32e6f9745a/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f31316333656233313934326534373462396466383266653639373635666132322e706e67"><img src="https://camo.githubusercontent.com/dded53de265dc39fbb4e818411570201257fee17c94d75799ca4fe32e6f9745a/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f31316333656233313934326534373462396466383266653639373635666132322e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_11c3eb31942e474b9df82fe69765fa22.png" style="max-width: 100%;"></a></p>
<p>4.2 在实例页面顶部，选择资源所在地域。例如下图中，地域切换为华东2（上海）。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/743413c0e221dd6eac3ae76a3c9e07e698afbedb550748fd9ed1766e1547f257/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f63393635373361643261393734346239393539396530626361353931366466322e706e67"><img src="https://camo.githubusercontent.com/743413c0e221dd6eac3ae76a3c9e07e698afbedb550748fd9ed1766e1547f257/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f63393635373361643261393734346239393539396530626361353931366466322e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_c96573ad2a9744b99599e0bca5916df2.png" style="max-width: 100%;"></a></p>
<p>4.3 在实例页面，找到需要挂载云盘的实例，单击实例ID。</p>
<p>说明：您可以在云产品资源列表中查看到您的ECS实例ID。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/2a5666c5e3e2fa08b32ff55f30d08da6f2bf67112cd81afa7e354c08e6b101a8/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f64616433613336393761356534666231616665663531383061613737633639622e706e67"><img src="https://camo.githubusercontent.com/2a5666c5e3e2fa08b32ff55f30d08da6f2bf67112cd81afa7e354c08e6b101a8/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f64616433613336393761356534666231616665663531383061613737633639622e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_dad3a3697a5e4fb1afef5180aa77c69b.png" style="max-width: 100%;"></a></p>
<p>4.4 在实例详情页签，单击云盘。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/a364bcd0fa37a74ee187b144220bb056f2c50302d9fa29fd1215b899e40cd0c5/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f33366139356365393236343034333363626563326334636231323632626136392e706e67"><img src="https://camo.githubusercontent.com/a364bcd0fa37a74ee187b144220bb056f2c50302d9fa29fd1215b899e40cd0c5/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f33366139356365393236343034333363626563326334636231323632626136392e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_36a95ce92640433cbec2c4cb1262ba69.png" style="max-width: 100%;"></a></p>
<p>4.5 在云盘页签，单击挂载云盘。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/c69a9bcd566b727371b28dabe2ff1a5160c71269d70eee37182b26fac801289c/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f61333830313431656238336434303966383833303236303235646236376363382e706e67"><img src="https://camo.githubusercontent.com/c69a9bcd566b727371b28dabe2ff1a5160c71269d70eee37182b26fac801289c/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f61333830313431656238336434303966383833303236303235646236376363382e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_a380141eb83d409f883026025db67cc8.png" style="max-width: 100%;"></a></p>
<p>4.6 在挂载云盘对话框中，选择云产品资源列表中的云盘ID_1的云盘，选中云盘随实例释放和自动快照随云盘释放，单击确定。</p>
<p>说明：您可以在云产品资源列表中查看您的云盘资源。</p>
<p>参数说明：</p>
<ul>
<li>
<p>目标云盘：选择您需要挂载的云盘，本示例选择云产品列表中的云盘ID_1的云盘。</p>
</li>
<li>
<p>云盘随实例释放：当选择云盘随实例释放，则释放实例时会自动释放此云盘。 本示例中请您选中该条件。</p>
</li>
<li>
<p>自动快照随云盘释放：当选择自动快照随云盘释放，云盘释放时该云盘创建的自动快照都会一起释放。 本示例中请您选中该条件。</p>
</li>
</ul>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/93163819faf31885882d4730fd4aaa4a8d646fbf7425bde39df2c5373d0da259/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f34346135396563666162346334343739383832376661303130383332343064662e706e67"><img src="https://camo.githubusercontent.com/93163819faf31885882d4730fd4aaa4a8d646fbf7425bde39df2c5373d0da259/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f34346135396563666162346334343739383832376661303130383332343064662e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_44a59ecfab4c44798827fa01083240df.png" style="max-width: 100%;"></a></p>
<p>4.7 在挂载云盘对话框中，单击取消。</p>
<p>说明：因本实验不使用通过控制台为云盘创建分区和文件系统，所以在分区及创建文件系统并挂载步骤时请单击取消。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/478d95141b6dcfb10cbf47025ca4a129e88ea9ecb57417305bb4128ac0238b92/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f64646534326461656636303734636236386162626463653163303165373435622e706e67"><img src="https://camo.githubusercontent.com/478d95141b6dcfb10cbf47025ca4a129e88ea9ecb57417305bb4128ac0238b92/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f64646534326461656636303734636236386162626463653163303165373435622e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_dde42daef6074cb68abbdce1c01e745b.png" style="max-width: 100%;"></a></p>
<p>返回云盘页面，等待云盘状态变为使用中，表示挂载云盘成功。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/94991cd5b262fbc0dfcb86464ab4a0bcd5a53b89f0c5d625b30ca93f2565aee1/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f62346262656632303265343634333836383332643761623630396631353361362e706e67"><img src="https://camo.githubusercontent.com/94991cd5b262fbc0dfcb86464ab4a0bcd5a53b89f0c5d625b30ca93f2565aee1/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f62346262656632303265343634333836383332643761623630396631353361362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_b4bbef202e464386832d7ab609f153a6.png" style="max-width: 100%;"></a></p>
<ol start="5">
<li>通过云盘管理页面挂载数据盘。</li>
</ol>
<p>5.1 在云服务器ECS控制台左侧导航栏中，选择存储与快照&gt;云盘。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/e09e8285f28e0bbaf93cd236802e3585b8854d167e37984c08566840b48be720/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f61626437376632343233653034663532623636346163353334306330346337392e706e67"><img src="https://camo.githubusercontent.com/e09e8285f28e0bbaf93cd236802e3585b8854d167e37984c08566840b48be720/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f61626437376632343233653034663532623636346163353334306330346337392e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_abd77f2423e04f52b664ac5340c04c79.png" style="max-width: 100%;"></a></p>
<p>5.2 在云盘页面，找到云产品资源列表中的云盘ID_2的云盘，单击其右侧操作列中的挂载。</p>
<p>说明：您可以在云产品资源列表中查看您的云盘资源。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/2fae9f8adea4238bbd345717398afbfc6d6470014e11825381d344617756aa2b/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f62653238623638373433363134316662626161353263383131643531656330362e706e67"><img src="https://camo.githubusercontent.com/2fae9f8adea4238bbd345717398afbfc6d6470014e11825381d344617756aa2b/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f62653238623638373433363134316662626161353263383131643531656330362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_be28b687436141fbbaa52c811d51ec06.png" style="max-width: 100%;"></a></p>
<p>5.3 在挂载云盘对话框中，目标实例选择您需要挂载的ECS实例，其他参数配置默认即可，单击下一步。</p>
<p>说明 ：您可以在云产品资源列表中查看到您的ECS实例资源。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/5723c1f893f02ce491eae0d7f26a7069a84c15757f871fb30b64b6e063ea3717/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f61303562343733386633616534643139386561373130343034323462393461372e706e67"><img src="https://camo.githubusercontent.com/5723c1f893f02ce491eae0d7f26a7069a84c15757f871fb30b64b6e063ea3717/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f61303562343733386633616534643139386561373130343034323462393461372e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_a05b4738f3ae4d198ea71040424b94a7.png" style="max-width: 100%;"></a></p>
<p>5.4 在挂载云盘对话框中，单击取消。</p>
<p>说明：因本实验不使用通过控制台为云盘创建分区和文件系统，所以在分区及创建文件系统并挂载步骤时请单击取消。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/f878be32c977952950f41f41a44124eadbb3bb8654f49f220c9c2402bd88b1e6/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f65656364306663353561643634356535393638333337393234353938646434372e706e67"><img src="https://camo.githubusercontent.com/f878be32c977952950f41f41a44124eadbb3bb8654f49f220c9c2402bd88b1e6/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f65656364306663353561643634356535393638333337393234353938646434372e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_eecd0fc55ad645e5968337924598dd47.png" style="max-width: 100%;"></a></p>
<p>返回云盘页面，等待云盘状态变为使用中，表示挂载云盘成功。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/94991cd5b262fbc0dfcb86464ab4a0bcd5a53b89f0c5d625b30ca93f2565aee1/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f62346262656632303265343634333836383332643761623630396631353361362e706e67"><img src="https://camo.githubusercontent.com/94991cd5b262fbc0dfcb86464ab4a0bcd5a53b89f0c5d625b30ca93f2565aee1/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f62346262656632303265343634333836383332643761623630396631353361362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_b4bbef202e464386832d7ab609f153a6.png" style="max-width: 100%;"></a></p>
<p> 分区格式化数据盘（Linux）</p>
<p>在两块全新的数据盘挂载到ECS实例后，您需要创建并挂载文件系统。</p>
<p>本步骤指导您如何在Linux系统中分区格式化新的数据盘。</p>
<p>1、在页面右侧，单击<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/c70e030a6fcf2966a1c41e39e9552333089cdb81376780641a01bac2ca233400/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f35353031326434653936643134323963616164656665626531643639303332362e706e67"><img src="https://camo.githubusercontent.com/c70e030a6fcf2966a1c41e39e9552333089cdb81376780641a01bac2ca233400/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f35353031326434653936643134323963616164656665626531643639303332362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_55012d4e96d1429caadefebe1d690326.png" style="max-width: 100%;"></a>图标，切换至Web Terminal。</p>
<p>2、执行如下命令，查看实例上的两块数据盘信息。</p>
<pre class="notranslate"><code class="notranslate">fdisk -l
</code></pre>
<p>返回结果如下所示，表示两块数据盘已经挂载到实例。其中/dev/vdb为通过实例页面挂载的数据盘，/dev/vdc为通过云盘管理页面挂载的数据盘。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/4a9abe321feae7d433fef19f6309a7bc5ac012d3356cb2d164fdf45c5e8203cc/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f65613962393363316332663634336533616661623730393330336136353464362e706e67"><img src="https://camo.githubusercontent.com/4a9abe321feae7d433fef19f6309a7bc5ac012d3356cb2d164fdf45c5e8203cc/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f65613962393363316332663634336533616661623730393330336136353464362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/ea9b93c1c2f643e3afab709303a654d6.png" style="max-width: 100%;"></a></p>
<p>3、为/dev/vdb数据盘创建GPT分区。</p>
<p>1）执行如下命令，对/dev/vdb数据盘进行分区。</p>
<pre class="notranslate"><code class="notranslate">parted /dev/vdb
</code></pre>
<p>2）执行如下命令，设置GPT分区格式。</p>
<pre class="notranslate"><code class="notranslate">mklabel gpt
</code></pre>
<p>3）执行如下命令，划分一个主分区，并设置分区的开始位置和结束位置。</p>
<pre class="notranslate"><code class="notranslate">mkpart primary 1 100%
</code></pre>
<p>4）执行如下命令，检查分区是否对齐。</p>
<pre class="notranslate"><code class="notranslate">align-check optimal 1
</code></pre>
<p>返回结果如下所示，表示分区已对齐。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/0d91008a34ae2c4ef92bbc5da95051424dbaa742d7abe852839d4102e78e4036/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f63646365313230356331643634383537626430643038633737616533626337652e706e67"><img src="https://camo.githubusercontent.com/0d91008a34ae2c4ef92bbc5da95051424dbaa742d7abe852839d4102e78e4036/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f63646365313230356331643634383537626430643038633737616533626337652e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/cdce1205c1d64857bd0d08c77ae3bc7e.png" style="max-width: 100%;"></a></p>
<p>说明 ：如果返回的是1 not aligned，表示分区未对齐。如何处理请参见<a href="https://help.aliyun.com/document_detail/25426.html#section-m1i-crf-lo4" rel="nofollow">常见问题</a>。</p>
<p>5）执行如下命令，查看分区表。</p>
<pre class="notranslate"><code class="notranslate">print
</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/13ed8469329ad6c015d6ef3d7493fde1514c73f899ec77aaa25840f03b7bc474/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f30373861363739313638613134636364396335343363326537366361636331642e706e67"><img src="https://camo.githubusercontent.com/13ed8469329ad6c015d6ef3d7493fde1514c73f899ec77aaa25840f03b7bc474/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f30373861363739313638613134636364396335343363326537366361636331642e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/078a679168a14ccd9c543c2e76cacc1d.png" style="max-width: 100%;"></a></p>
<p>6）执行如下命令，退出Parted工具。</p>
<pre class="notranslate"><code class="notranslate">quit
</code></pre>
<p>7）执行如下命令，使系统重读分区表。</p>
<pre class="notranslate"><code class="notranslate">partprobe
</code></pre>
<p>8）执行如下命令，查看新分区信息。</p>
<pre class="notranslate"><code class="notranslate">fdisk -lu /dev/vdb
</code></pre>
<p>返回结果如下所示，在/dev/vdb数据盘信息中，如果出现gpt的相关信息，表示新分区已创建完成。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/116b9b411a3fa92a37217ba807dffbf921ba99d726340d6c31ef6c4baa395bff/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f62373661306562373439393434343034386439343863663232346137376431352e706e67"><img src="https://camo.githubusercontent.com/116b9b411a3fa92a37217ba807dffbf921ba99d726340d6c31ef6c4baa395bff/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f62373661306562373439393434343034386439343863663232346137376431352e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/b76a0eb7499444048d948cf224a77d15.png" style="max-width: 100%;"></a></p>
<p>4、为/dev/vdc数据盘创建MBR分区。</p>
<p>1）执行如下命令，对数据盘进行分区。</p>
<pre class="notranslate"><code class="notranslate">fdisk -u /dev/vdc
</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/9e284a7067a344d037472bb5ce2b9a1a9eb5aa28fc85c0baeb0a05bbb2b3280f/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f32306230366238646136336634633530626266623062623038663237636561332e706e67"><img src="https://camo.githubusercontent.com/9e284a7067a344d037472bb5ce2b9a1a9eb5aa28fc85c0baeb0a05bbb2b3280f/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f32306230366238646136336634633530626266623062623038663237636561332e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/20b06b8da63f4c50bbfb0bb08f27cea3.png" style="max-width: 100%;"></a></p>
<p>2）执行如下命令，查看数据盘的分区情况。</p>
<pre class="notranslate"><code class="notranslate">p
</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/fc4c55cf18bb7e110e979476efc6fdd57f0be6ca05e97d110b6f2548766fca1b/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f33306136316135306134653234623532613931353637643839636435333332342e706e67"><img src="https://camo.githubusercontent.com/fc4c55cf18bb7e110e979476efc6fdd57f0be6ca05e97d110b6f2548766fca1b/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f33306136316135306134653234623532613931353637643839636435333332342e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/30a61a50a4e24b52a91567d89cd53324.png" style="max-width: 100%;"></a></p>
<p>3）执行如下命令，创建一个新分区。</p>
<pre class="notranslate"><code class="notranslate">n
</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/477857cf1a219177325ce03b94b1314e975fad772a1da8978e681c63fee71917/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f33316437346664323865313534343866383665363030623131643537353935362e706e67"><img src="https://camo.githubusercontent.com/477857cf1a219177325ce03b94b1314e975fad772a1da8978e681c63fee71917/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f33316437346664323865313534343866383665363030623131643537353935362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/31d74fd28e15448f86e600b11d575956.png" style="max-width: 100%;"></a></p>
<p>4）执行如下命令，选择分区类型为主分区。</p>
<pre class="notranslate"><code class="notranslate">p
</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/5dda7de4e78ccb26b4cec77dbe21faf050ed1c5b1be4705eb38b3bd346dfab22/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f64336536303965343832303334356535616166663062313662363237643939642e706e67"><img src="https://camo.githubusercontent.com/5dda7de4e78ccb26b4cec77dbe21faf050ed1c5b1be4705eb38b3bd346dfab22/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f64336536303965343832303334356535616166663062313662363237643939642e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/d3e609e4820345e5aaff0b16b627d99d.png" style="max-width: 100%;"></a></p>
<p>5）输入分区编号，按回车键。本示例中，仅创建一个分区，直接按回车键，采用默认值1。 <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/ffb969a0a21d87c0fef931d5c6199d12c38178377474b1bccfcde89478e4a252/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f66313432313639353361336234363233616566326334333431353131653462352e706e67"><img src="https://camo.githubusercontent.com/ffb969a0a21d87c0fef931d5c6199d12c38178377474b1bccfcde89478e4a252/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f66313432313639353361336234363233616566326334333431353131653462352e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/f14216953a3b4623aef2c4341511e4b5.png" style="max-width: 100%;"></a></p>
<p>6）输入第一个可用的扇区编号，按回车键。本示例中，直接按回车键，采用默认值2048。 <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/a951590dfaa9c4a590f418bb036f94896c4652a635289a930b22358922bff671/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f31666435343134633133653334643332396262366566356335313635396335662e706e67"><img src="https://camo.githubusercontent.com/a951590dfaa9c4a590f418bb036f94896c4652a635289a930b22358922bff671/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f31666435343134633133653334643332396262366566356335313635396335662e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/1fd5414c13e34d329bb6ef5c51659c5f.png" style="max-width: 100%;"></a></p>
<p>7）输入最后一个扇区编号，按回车键。本示例中，仅创建一个分区，直接按回车键，采用默认值。 <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/e80eef2204c5d0a22ba4067116d271b05238148932498703651ff3b317e7dfe0/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f30396638626234363032646434353761623234363836393965323162353135642e706e67"><img src="https://camo.githubusercontent.com/e80eef2204c5d0a22ba4067116d271b05238148932498703651ff3b317e7dfe0/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f30396638626234363032646434353761623234363836393965323162353135642e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/09f8bb4602dd457ab2468699e21b515d.png" style="max-width: 100%;"></a></p>
<p>8）执行如下命令，查看该数据盘的规划分区情况。</p>
<pre class="notranslate"><code class="notranslate">p
</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/fd066572e304b8edea1fb1059ed2c0c0d7b1b3e54b7c63bea2686992ecf03499/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f63323166626162323732353734333935613761386464336237613763373339322e706e67"><img src="https://camo.githubusercontent.com/fd066572e304b8edea1fb1059ed2c0c0d7b1b3e54b7c63bea2686992ecf03499/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f63323166626162323732353734333935613761386464336237613763373339322e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/c21fbab272574395a7a8dd3b7a7c7392.png" style="max-width: 100%;"></a></p>
<p>9）执行如下命令，开始分区，并在完成分区后退出。</p>
<pre class="notranslate"><code class="notranslate">w
</code></pre>
<p>10）执行如下命令，查看新分区信息。</p>
<pre class="notranslate"><code class="notranslate">fdisk -lu /dev/vdc
</code></pre>
<p>返回结果如下所示，如果出现/dev/vdc1的相关信息，表示新分区已创建完成。您也可以看到数据盘/dev/vdc的新分区名字变为/dev/vdc1。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/5d3f547e36eb0387b72855c8e2c2830f14094691e7cdc044acb98a572511f775/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f63653430376439646366316534616662616334656532383939376562373035362e706e67"><img src="https://camo.githubusercontent.com/5d3f547e36eb0387b72855c8e2c2830f14094691e7cdc044acb98a572511f775/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f63653430376439646366316534616662616334656532383939376562373035362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/ce407d9dcf1e4afbac4ee28997eb7056.png" style="max-width: 100%;"></a></p>
<p>5、执行如下命令，为/dev/vdb数据盘的新分区/dev/vdb创建一个ext4文件系统。</p>
<pre class="notranslate"><code class="notranslate">mkfs -t ext4 /dev/vdb
</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/bd12bf0b0c37ef3a88548f3332f4cda3c35d814ed811a205af9ede7faf3b9b56/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f39353034353735336265303734303062623438363762383466646364353036362e706e67"><img src="https://camo.githubusercontent.com/bd12bf0b0c37ef3a88548f3332f4cda3c35d814ed811a205af9ede7faf3b9b56/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f39353034353735336265303734303062623438363762383466646364353036362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/95045753be07400bb4867b84fdcd5066.png" style="max-width: 100%;"></a></p>
<p>6、执行如下命令，为/dev/vdc数据盘的新分区/dev/vdc1创建一个xfs文件系统。</p>
<pre class="notranslate"><code class="notranslate">mkfs -t xfs /dev/vdc1
</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/41dad764570df2223979c4a8630bda93b4125dac8c736e8b7ccb6a55e6c2f2d9/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f61633462346533346162313834386130393831363861336532366262363463362e706e67"><img src="https://camo.githubusercontent.com/41dad764570df2223979c4a8630bda93b4125dac8c736e8b7ccb6a55e6c2f2d9/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f61633462346533346162313834386130393831363861336532366262363463362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/ac4b4e34ab1848a098168a3e26bb64c6.png" style="max-width: 100%;"></a></p>
<p>7、配置/etc/fstab文件并挂载新分区/dev/vdb。在/etc/fstab中写入新分区的信息，启动开机自动挂载分区。本示例选择挂载新分区/dev/vdb。</p>
<p>注意 ：建议您在/etc/fstab中使用全局唯一标识符UUID来引用新分区。由于释放云盘等操作可能会导致其他云盘的设备名变动，如果在/etc/fstab中直接使用设备名，当设备名变动时可能影响您的存储数据。</p>
<p>1）执行如下命令，备份/etc/fstab文件。</p>
<pre class="notranslate"><code class="notranslate">cp /etc/fstab /etc/fstab.bak
</code></pre>
<p>2）执行如下命令，在/etc/fstab里写入新分区信息。</p>
<pre class="notranslate"><code class="notranslate">echo `blkid /dev/vdb | awk '{print $2}' | sed 's/\"//g'` /mnt ext4 defaults 0 0 &gt;&gt; /etc/fstab
</code></pre>
<p>参数说明：</p>
<ul>
<li>
<p>/dev/vdb：已创建好文件系统的数据盘分区。</p>
</li>
<li>
<p>/mnt：挂载（mount）的目录节点。</p>
</li>
<li>
<p>ext4：分区的文件系统类型。</p>
</li>
</ul>
<p>3）执行如下命令，查看/etc/fstab中的新分区信息。</p>
<pre class="notranslate"><code class="notranslate">cat /etc/fstab
</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/94b27e7a3c98d91b14dbfa89c1413be54be7fad1d3e43ce047b71eca7b916a26/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f37356666616431623139373934323165616339356234303761666432313933612e706e67"><img src="https://camo.githubusercontent.com/94b27e7a3c98d91b14dbfa89c1413be54be7fad1d3e43ce047b71eca7b916a26/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f37356666616431623139373934323165616339356234303761666432313933612e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/75ffad1b1979421eac95b407afd2193a.png" style="max-width: 100%;"></a></p>
<p>4）执行如下命令，挂载/etc/fstab配置的文件系统。</p>
<pre class="notranslate"><code class="notranslate">mount -a
</code></pre>
<p>5）执行如下命令，检查挂载结果。</p>
<pre class="notranslate"><code class="notranslate">df -h
</code></pre>
<p>返回结果如下所示，您可以看到新建文件系统的信息，表示文件系统挂载成功。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/41ea5f6899d041d9c63e489b454499112746d677162550bf04f515db28cc8f08/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f32653931306333346239653934613064623931313832366363366135646563612e706e67"><img src="https://camo.githubusercontent.com/41ea5f6899d041d9c63e489b454499112746d677162550bf04f515db28cc8f08/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f32653931306333346239653934613064623931313832366363366135646563612e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/2e910c34b9e94a0db911826cc6a5deca.png" style="max-width: 100%;"></a></p>
<p>8、配置/etc/fstab文件并挂载新分区/dev/vdc1。在/etc/fstab中写入新分区的信息，启动开机自动挂载分区。本示例选择挂载新分区/dev/vdc1。</p>
<p>注意 ：建议您在/etc/fstab中使用全局唯一标识符UUID来引用新分区。由于释放云盘等操作可能会导致其他云盘的设备名变动，如果在/etc/fstab中直接使用设备名，当设备名变动时可能影响您的存储数据。</p>
<p>1）执行如下命令，备份/etc/fstab文件。</p>
<pre class="notranslate"><code class="notranslate">cp /etc/fstab /etc/fstab.bak
</code></pre>
<p>2）执行如下命令，在/etc/fstab里写入新分区信息。</p>
<pre class="notranslate"><code class="notranslate">echo `blkid /dev/vdc1 | awk '{print $2}' | sed 's/\"//g'` /opt xfs defaults 0 0 &gt;&gt; /etc/fstab
</code></pre>
<p>参数说明：</p>
<ul>
<li>
<p>/dev/vdc1：已创建好文件系统的数据盘分区。</p>
</li>
<li>
<p>/opt：挂载（mount）的目录节点。</p>
</li>
<li>
<p>xfs：分区的文件系统类型。</p>
</li>
</ul>
<p>3）执行如下命令，查看/etc/fstab中的新分区信息。</p>
<pre class="notranslate"><code class="notranslate">cat /etc/fstab
</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/8402ea933c0c054a5750b99e6244fda5f7cda2b80f9091c8a474e47d0370513b/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f37653236356530613431613734663235383930343436653063333436373836662e706e67"><img src="https://camo.githubusercontent.com/8402ea933c0c054a5750b99e6244fda5f7cda2b80f9091c8a474e47d0370513b/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f37653236356530613431613734663235383930343436653063333436373836662e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_7e265e0a41a74f25890446e0c346786f.png" style="max-width: 100%;"></a></p>
<p>4）执行如下命令，挂载/etc/fstab配置的文件系统。</p>
<pre class="notranslate"><code class="notranslate">mount -a
</code></pre>
<p>5）执行如下命令，检查挂载结果。</p>
<pre class="notranslate"><code class="notranslate">df -h
</code></pre>
<p>返回结果如下所示，您可以看到新建文件系统的信息，表示文件系统挂载成功。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/df45426f28538f48a6133adf4d7a77581e5d2db6b19a9d3df513b185cb713866/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f31636463306333663066333134636535613739353863323638643562336437612e706e67"><img src="https://camo.githubusercontent.com/df45426f28538f48a6133adf4d7a77581e5d2db6b19a9d3df513b185cb713866/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f31636463306333663066333134636535613739353863323638643562336437612e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_1cdc0c3f0f314ce5a7958c268d5b3d7a.png" style="max-width: 100%;"></a></p>
<ol start="4">
<li>创建云盘快照</li>
</ol>
<p>在回滚云盘前，您需要提前为数据盘创建快照，进行数据备份。</p>
<ol>
<li>
<p>在页面右侧，单击<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/0318debc04de991fc363225889688a6dbf45f87181fe64fd0cb29e7d5f03c830/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f32393033623966363238313034376566393038646566336362363635393831342e706e67"><img src="https://camo.githubusercontent.com/0318debc04de991fc363225889688a6dbf45f87181fe64fd0cb29e7d5f03c830/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f32393033623966363238313034376566393038646566336362363635393831342e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_2903b9f6281047ef908def3cb6659814.png" style="max-width: 100%;"></a>图标，切换到无影安全浏览器。</p>
</li>
<li>
<p>在左侧控制台中，选择实例与镜像&gt;实例。</p>
</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/a468c2b06ebf366a0b9a64da743b1c458e123b1f69e4fce6f0bc72d20f20a422/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f34396336623461613163623334383564616130313336323331396363626234342e706e67"><img src="https://camo.githubusercontent.com/a468c2b06ebf366a0b9a64da743b1c458e123b1f69e4fce6f0bc72d20f20a422/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f34396336623461613163623334383564616130313336323331396363626234342e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/49c6b4aa1cb3485daa01362319ccbb44.png" style="max-width: 100%;"></a></p>
<ol start="3">
<li>在实例页面，找到目标实例，单击实例ID。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/e3776109ab4357f5a4cc9f31c4abcbca1255fcd7c5534dc586916f5b41e7a355/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f35656566303833656637613634353766623865303864646636353034626664302e706e67"><img src="https://camo.githubusercontent.com/e3776109ab4357f5a4cc9f31c4abcbca1255fcd7c5534dc586916f5b41e7a355/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f35656566303833656637613634353766623865303864646636353034626664302e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/5eef083ef7a6457fb8e08ddf6504bfd0.png" style="max-width: 100%;"></a></p>
<ol start="4">
<li>在实例详情页签，单击云盘。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/b72c6fe1ec56cca0687a743bb9c4f2bb31f21e4e177e6194393a4ae081afe51e/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f66353139663231336430613034646365626533653038313230313838366532332e706e67"><img src="https://camo.githubusercontent.com/b72c6fe1ec56cca0687a743bb9c4f2bb31f21e4e177e6194393a4ae081afe51e/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f66353139663231336430613034646365626533653038313230313838366532332e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/f519f213d0a04dcebe3e081201886e23.png" style="max-width: 100%;"></a></p>
<ol start="5">
<li>在云盘页签，找到云产品资源列表中云盘ID_1的云盘，然后单击操作列下的创建快照。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/7a13805840425fcb25b1046dc9ad14eaefea0c7792544fb7e28dc1816b39f09d/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f61383461643861333964356334393665613339663462346331646435383130612e706e67"><img src="https://camo.githubusercontent.com/7a13805840425fcb25b1046dc9ad14eaefea0c7792544fb7e28dc1816b39f09d/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f61383461643861333964356334393665613339663462346331646435383130612e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/a84ad8a39d5c496ea39f4b4c1dd5810a.png" style="max-width: 100%;"></a></p>
<ol start="6">
<li>在创建快照对话框中，设置快照名称，例如test1，快照类型选择创建标准快照，保留时间设置为保留30天，然后单击创建。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/5da8ee870776ab6821fe3a0eefa50f42db1be071dd3fdd4458f78122c7d4fd44/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f61303637306230333538616334643033613635346637386436313165383263302e706e67"><img src="https://camo.githubusercontent.com/5da8ee870776ab6821fe3a0eefa50f42db1be071dd3fdd4458f78122c7d4fd44/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f61303637306230333538616334643033613635346637386436313165383263302e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_a0670b0358ac4d03a654f78d611e82c0.png" style="max-width: 100%;"></a></p>
<ol start="7">
<li>在云盘页签，单击快照。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/27a61c8f4b7d2a8c3d19e65e7889d18f0dc8ac0a5b4cff31d4301c3ff97898bb/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f34363065326662393764303334383830393938333165363464653166313864332e706e67"><img src="https://camo.githubusercontent.com/27a61c8f4b7d2a8c3d19e65e7889d18f0dc8ac0a5b4cff31d4301c3ff97898bb/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f34363065326662393764303334383830393938333165363464653166313864332e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/460e2fb97d03488099831e64de1f18d3.png" style="max-width: 100%;"></a></p>
<p>返回如下页面，您即可在快照页面查看到云盘快照的进度，等待快照进度为可用时，表示快照完成。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/ddad1d44da046774c477b32233dbb7396be03660a4f2b23e9afa81001ffdd34d/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f36633637303965643931393134383839383864323062303138323562636239372e706e67"><img src="https://camo.githubusercontent.com/ddad1d44da046774c477b32233dbb7396be03660a4f2b23e9afa81001ffdd34d/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f36633637303965643931393134383839383864323062303138323562636239372e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_6c6709ed9191488988d20b01825bcb97.png" style="max-width: 100%;"></a>5. 重新初始化数据盘</p>
<p>在回滚云盘之前，您需要使用重新初始化磁盘功能将数据盘恢复到创建时的状态。</p>
<ol>
<li>在云盘页签，单击实例详情。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/9e5dff9edd0ae1f4df7d37781c702ce5ef088c60399cfc4b3d3eb6027ef1ee01/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f62313563333862346436653834346136393730326530393838656532636664352e706e67"><img src="https://camo.githubusercontent.com/9e5dff9edd0ae1f4df7d37781c702ce5ef088c60399cfc4b3d3eb6027ef1ee01/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f62313563333862346436653834346136393730326530393838656532636664352e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/b15c38b4d6e844a69702e0988ee2cfd5.png" style="max-width: 100%;"></a></p>
<ol start="2">
<li>在实例详情页签，单击右上角的停止。</li>
</ol>
<p>说明：重新初始化数据盘之前必须先停止ECS实例。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/7ea259a485f2e028113d3965afa5b64f866cb731f9a4b5082102ec08c9c1d345/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f38326263396364613735313234313064383335613765656166336436343637322e706e67"><img src="https://camo.githubusercontent.com/7ea259a485f2e028113d3965afa5b64f866cb731f9a4b5082102ec08c9c1d345/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f38326263396364613735313234313064383335613765656166336436343637322e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_82bc9cda7512410d835a7eeaf3d64672.png" style="max-width: 100%;"></a></p>
<ol start="3">
<li>在停止实例对话框中，停止方式选择停止，停止模式选择普通停机，单击确定。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/56d538b9f012f1f6edee9185c399720b929a269c4ced85ce6fc094c3aeed1a64/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f30643934303934383433613434626238383066626134616364653035303830642e706e67"><img src="https://camo.githubusercontent.com/56d538b9f012f1f6edee9185c399720b929a269c4ced85ce6fc094c3aeed1a64/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f30643934303934383433613434626238383066626134616364653035303830642e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/0d94094843a44bb880fba4acde05080d.png" style="max-width: 100%;"></a></p>
<ol start="4">
<li>在实例详情页签，等待实例状态为已停止，单击云盘。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/cc221bc182fecac4262d51748247ffe8bc0a081efda2f0a9f57a73979b0deecb/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f34363363633333646165326434636632613438336362346230343930313266652e706e67"><img src="https://camo.githubusercontent.com/cc221bc182fecac4262d51748247ffe8bc0a081efda2f0a9f57a73979b0deecb/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f34363363633333646165326434636632613438336362346230343930313266652e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_463cc33dae2d4cf2a483cb4b049012fe.png" style="max-width: 100%;"></a></p>
<ol start="5">
<li>在云盘页签，找到云产品资源列表中云盘ID_1的云盘，单击右侧操作列下的重新初始化云盘。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/acce84318b9873d4aebc8f9b70011a3cb9d798a8e005f86b4bfc386ee1745ce8/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f30303262343734306135333534313633616430376638376632323166396431652e706e67"><img src="https://camo.githubusercontent.com/acce84318b9873d4aebc8f9b70011a3cb9d798a8e005f86b4bfc386ee1745ce8/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f30303262343734306135333534313633616430376638376632323166396431652e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/002b4740a5354163ad07f87f221f9d1e.png" style="max-width: 100%;"></a></p>
<ol start="6">
<li>在重新初始化云盘对话框中，单击确定。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/8d25ee07ecda0e3e80cafefb5a999ed38b5e6edbbf20ea5765034ec534a86cb3/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f36306663363337626465346234656531613032663935613162356438626338612e706e67"><img src="https://camo.githubusercontent.com/8d25ee07ecda0e3e80cafefb5a999ed38b5e6edbbf20ea5765034ec534a86cb3/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f36306663363337626465346234656531613032663935613162356438626338612e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_60fc637bde4b4ee1a02f95a1b5d8bc8a.png" style="max-width: 100%;"></a></p>
<ol start="7">
<li>在云盘页签，单击实例详情。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/eed24ec9c0ff26e5c2667bfab7ea3ba6843a3e63863db026452f0d14744b4c48/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f34383730636361643635363434656466383364336436616461623162323935612e706e67"><img src="https://camo.githubusercontent.com/eed24ec9c0ff26e5c2667bfab7ea3ba6843a3e63863db026452f0d14744b4c48/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f34383730636361643635363434656466383364336436616461623162323935612e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/4870ccad65644edf83d3d6adab1b295a.png" style="max-width: 100%;"></a></p>
<ol start="8">
<li>在实例详情页签，单击右上角的启动。</li>
</ol>
<p>说明：因为受限于当前云盘重新初始化的实现，云盘重新初始化后，需要重新启动实例，否则无法对云盘进行快照和快照回滚的操作。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3609ff76e34a26692e2603ce7d15d5b3c940f6881b876d4bf58ddaf86f4a8ea4/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f62326164396465363631666434373261613262376266363364346166313263612e706e67"><img src="https://camo.githubusercontent.com/3609ff76e34a26692e2603ce7d15d5b3c940f6881b876d4bf58ddaf86f4a8ea4/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f62326164396465363631666434373261613262376266363364346166313263612e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_b2ad9de661fd472aa2b7bf63d4af12ca.png" style="max-width: 100%;"></a></p>
<p>在实例详情页签，等待实例状态为已启动。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/499c510a571a35ab5adbc664524ca0919191a9b4ceb6a697a8a917e0bf5e85af/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f39643863313735613234633734636134623635646362623134346265363562342e706e67"><img src="https://camo.githubusercontent.com/499c510a571a35ab5adbc664524ca0919191a9b4ceb6a697a8a917e0bf5e85af/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f39643863313735613234633734636134623635646362623134346265363562342e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_9d8c175a24c74ca4b65dcbb144be65b4.png" style="max-width: 100%;"></a>6. 使用快照回滚云盘</p>
<p>通过控制台，使用快照回滚云盘，实现应用版本回退。回滚时，云盘必须拥有至少一份历史快照。</p>
<ol>
<li>在实例详情页签中的基本信息区域，单击右上角的停止。</li>
</ol>
<p>说明：使用快照回滚云盘之前必须先停止ECS实例。停止ECS实例大约需要五分钟，请您耐心等待ECS实例停止。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3219c4285a543ad5757a38fb2e1465c949e1abd797569ff18eeab5bebfe31768/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f66386263303130653436663634313532623231636332646638313432323436362e706e67"><img src="https://camo.githubusercontent.com/3219c4285a543ad5757a38fb2e1465c949e1abd797569ff18eeab5bebfe31768/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f66386263303130653436663634313532623231636332646638313432323436362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_f8bc010e46f64152b21cc2df81422466.png" style="max-width: 100%;"></a></p>
<ol start="2">
<li>在停止实例对话框中，停止方式选择停止，停止模式选择普通停机，单击确定。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/876e3b188a6b35858dd43b1393fe05a880981e29d54b3a83dd3767d469a62b53/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f63666630663939313539646234326330623031313338656563366463313630622e706e67"><img src="https://camo.githubusercontent.com/876e3b188a6b35858dd43b1393fe05a880981e29d54b3a83dd3767d469a62b53/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f63666630663939313539646234326330623031313338656563366463313630622e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/cff0f99159db42c0b01138eec6dc160b.png" style="max-width: 100%;"></a></p>
<ol start="3">
<li>在实例详情页签，等待实例状态为已停止，单击快照。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/9f676583c29614bc2501a38114ba743c0d02300b6471fea3e4d23c29d7e910d4/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f38313930646238333030306534386437616132616338346661306438623038612e706e67"><img src="https://camo.githubusercontent.com/9f676583c29614bc2501a38114ba743c0d02300b6471fea3e4d23c29d7e910d4/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f38313930646238333030306534386437616132616338346661306438623038612e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/8190db83000e48d7aa2ac84fa0d8b08a.png" style="max-width: 100%;"></a></p>
<ol start="4">
<li>在快照页签，选择你需要回滚的快照，单击操作列下的回滚磁盘。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/a1f9d637c44fe273ac19c57d48d2f254bdf38581d76826ebacf996d949270198/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f35633737376631626134346334326363623337306136356566623337333062332e706e67"><img src="https://camo.githubusercontent.com/a1f9d637c44fe273ac19c57d48d2f254bdf38581d76826ebacf996d949270198/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f35633737376631626134346334326363623337306136356566623337333062332e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/5c777f1ba44c42ccb370a65efb3730b3.png" style="max-width: 100%;"></a></p>
<ol start="5">
<li>在回滚云盘对话框中，选中回滚后立即启动实例，单击确定。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/45fe4d9a01dfb3b6f5bcf55d658b158896940adafa55ed8212f9b9c3fcadd1fb/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f36613736343866653136323134323932393137633730346466383136333732362e706e67"><img src="https://camo.githubusercontent.com/45fe4d9a01dfb3b6f5bcf55d658b158896940adafa55ed8212f9b9c3fcadd1fb/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f36613736343866653136323134323932393137633730346466383136333732362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_6a7648fe16214292917c704df8163726.png" style="max-width: 100%;"></a>7. 卸载数据盘</p>
<p>当您不再需要使用数据盘，需要先卸载数据盘。</p>
<ol>
<li>
<p>在页面右侧，单击<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/fc5b1c0a6f229df890ec035161374e2eb393c34b4953438bc2b6717c78a20d40/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f66356638306136663261303834626333613834336166303862326132646235352e706e67"><img src="https://camo.githubusercontent.com/fc5b1c0a6f229df890ec035161374e2eb393c34b4953438bc2b6717c78a20d40/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f66356638306136663261303834626333613834336166303862326132646235352e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/f5f80a6f2a084bc3a843af08b2a2db55.png" style="max-width: 100%;"></a> 图标，切换至Web Terminal。</p>
</li>
<li>
<p>执行如下命令，查看数据盘挂载信息。</p>
</li>
</ol>
<pre class="notranslate"><code class="notranslate">df -h
</code></pre>
<p>返回结果如下所示，您可以查看到需要卸载的数据盘分区/dev/vdb。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/eaad6c9f712d04c5ce264cc16ca40ce523afe253ed5b2d9782a5630f34d5d72e/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f39643436633464373436383434353639623161363362316536656164613939362e706e67"><img src="https://camo.githubusercontent.com/eaad6c9f712d04c5ce264cc16ca40ce523afe253ed5b2d9782a5630f34d5d72e/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f39643436633464373436383434353639623161363362316536656164613939362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/9d46c4d746844569b1a63b1e6eada996.png" style="max-width: 100%;"></a></p>
<ol start="3">
<li>执行如下命令，卸载数据盘文件系统。</li>
</ol>
<pre class="notranslate"><code class="notranslate">umount /dev/vdb
</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/87068cd9c5342a2b2a350d3fc5b23fc72ac78df4e1e906ce8b208dc7f1d13679/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f66653632303333653765303434623131623034306133313061373433323066322e706e67"><img src="https://camo.githubusercontent.com/87068cd9c5342a2b2a350d3fc5b23fc72ac78df4e1e906ce8b208dc7f1d13679/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f66653632303333653765303434623131623034306133313061373433323066322e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/fe62033e7e044b11b040a310a74320f2.png" style="max-width: 100%;"></a></p>
<ol start="4">
<li>执行如下命令，查看数据盘分区的uuid信息。</li>
</ol>
<pre class="notranslate"><code class="notranslate">blkid
</code></pre>
<p>返回结果如下所示，您可以查看到数据盘分区/dev/vdb的uuid信息。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/fe698be4189149e2df69c8ac4709ca9ec7f3bff767e6da7bc23de451bafe835a/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f36366231346335393639346434356532393833336237356134353761663439362e706e67"><img src="https://camo.githubusercontent.com/fe698be4189149e2df69c8ac4709ca9ec7f3bff767e6da7bc23de451bafe835a/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f36366231346335393639346434356532393833336237356134353761663439362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/66b14c59694d45e29833b75a457af496.png" style="max-width: 100%;"></a></p>
<ol start="5">
<li>执行如下命令，查询/etc/fstab中是否配置数据盘文件系统自动挂载信息。</li>
</ol>
<pre class="notranslate"><code class="notranslate">cat /etc/fstab
</code></pre>
<p>返回结果如下所示，找到上一步骤中查询到的uuid信息，您可以查看到/etc/fstab中已配置数据盘分区/dev/vdb文件系统。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/6f89dff20415aa37844e1b57734a46b339415c0dbd25ce193061eaf36be1e63f/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f61633661323637613061343934356133616164666538626463336638643139392e706e67"><img src="https://camo.githubusercontent.com/6f89dff20415aa37844e1b57734a46b339415c0dbd25ce193061eaf36be1e63f/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f61633661323637613061343934356133616164666538626463336638643139392e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/ac6a267a0a4945a3aadfe8bdc3f8d199.png" style="max-width: 100%;"></a></p>
<ol start="6">
<li>删除/etc/fstab中数据盘分区文件系统的自动挂载信息。</li>
</ol>
<p>说明 ：</p>
<p>如果不删除/etc/fstab中数据盘分区文件系统的自动挂载信息，在控制台卸载数据盘后，您重启ECS实例时将无法正常启动系统。</p>
<p>1）运行以下命令，编辑/etc/fstab。</p>
<pre class="notranslate"><code class="notranslate">vim /etc/fstab
</code></pre>
<p>2）输入i，进入编辑模式。</p>
<p>3）删除或注释掉数据盘分区文件系统相关的自动挂载信息。</p>
<p>以下示例中在自动挂载信息前面添加#，表示注释掉自动挂载信息。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/9dc9e4fa1c3c9a75d79587a0108875658fdee6a9fe5dae3438dc2dc7c0128851/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f34623765633039663337633134323131623637313535303536376266343262382e706e67"><img src="https://camo.githubusercontent.com/9dc9e4fa1c3c9a75d79587a0108875658fdee6a9fe5dae3438dc2dc7c0128851/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f34623765633039663337633134323131623637313535303536376266343262382e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/4b7ec09f37c14211b671550567bf42b8.png" style="max-width: 100%;"></a></p>
<p>4）按ECS键，输入:wq后按回车键，保存并退出。</p>
<ol start="7">
<li>
<p>在页面右侧，单击<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/0318debc04de991fc363225889688a6dbf45f87181fe64fd0cb29e7d5f03c830/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f32393033623966363238313034376566393038646566336362363635393831342e706e67"><img src="https://camo.githubusercontent.com/0318debc04de991fc363225889688a6dbf45f87181fe64fd0cb29e7d5f03c830/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f7934646e366561746f6132326b5f32393033623966363238313034376566393038646566336362363635393831342e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/y4dn6eatoa22k_2903b9f6281047ef908def3cb6659814.png" style="max-width: 100%;"></a>图标，切换到无影安全浏览器。</p>
</li>
<li>
<p>在快照页签，单击云盘。</p>
</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/df383a5c695b77afebdefadff3a74f2a92a38bbc795e4a355c60cb67cd47f040/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f35623466626665623965663534616137626430353137326439353439376334312e706e67"><img src="https://camo.githubusercontent.com/df383a5c695b77afebdefadff3a74f2a92a38bbc795e4a355c60cb67cd47f040/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f35623466626665623965663534616137626430353137326439353439376334312e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/5b4fbfeb9ef54aa7bd05172d95497c41.png" style="max-width: 100%;"></a></p>
<ol start="9">
<li>在云盘页签，找到目标云盘，在操作列中，选择更多&gt;卸载。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/30d3b991ece1faf1427b3e32fe0764641a78bb9a40325fbc853a7a151cdd8851/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f30306637656662393136643034363730396533396563663362656633666636362e706e67"><img src="https://camo.githubusercontent.com/30d3b991ece1faf1427b3e32fe0764641a78bb9a40325fbc853a7a151cdd8851/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f30306637656662393136643034363730396533396563663362656633666636362e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/00f7efb916d046709e39ecf3bef3ff66.png" style="max-width: 100%;"></a></p>
<ol start="10">
<li>在卸载云盘对话框中，单击确认卸载。</li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/61a0b9774d007b5a202b5ae7140f0cf556c9931768b66d6f98ec9055e4037c6f/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f61623830306364643436393834623134393230383664656366356435613764632e706e67"><img src="https://camo.githubusercontent.com/61a0b9774d007b5a202b5ae7140f0cf556c9931768b66d6f98ec9055e4037c6f/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f61623830306364643436393834623134393230383664656366356435613764632e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/ab800cdd46984b1492086decf5d5a7dc.png" style="max-width: 100%;"></a></p>
<p>返回如下页面，您可以看到目标云盘已经成功卸载。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/9e6183bc4d276c16b77ebc466dcf3b9138edabee2f9dc757c03b4ff8e5603205/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f37386338343063343663353234343661613365353134366162623262393534642e706e67"><img src="https://camo.githubusercontent.com/9e6183bc4d276c16b77ebc466dcf3b9138edabee2f9dc757c03b4ff8e5603205/68747470733a2f2f7563632e616c6963646e2e636f6d2f7069632f646576656c6f7065722d65636f6c6f67792f37386338343063343663353234343661613365353134366162623262393534642e706e67" alt="" data-canonical-src="https://ucc.alicdn.com/pic/developer-ecology/78c840c46c52446aa3e5146abb2b954d.png" style="max-width: 100%;"></a></p></div>
<div style="font-size:small;margin-top:8px;float:right;"></div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://bbs.017121.xyz">Gweek</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if(""!=""){
    var startSite=new Date("");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行 "+diffDay+" 天"+" • ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z', 'copy': 'M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z', 'check': 'M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.disabled=true;
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","igweek/igweek.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const createClipboardHTML = (codeContent, additionalClasses = '') => `
        <pre class="notranslate"><code class="notranslate">${codeContent}</code></pre>
        <div class="clipboard-container position-absolute right-0 top-0 ${additionalClasses}">
            <clipboard-copy class="ClipboardButton btn m-2 p-0" role="button" style="display: inherit;">
                <svg height="16" width="16" class="octicon octicon-copy m-2"><path d="${IconList["copy"]}"></path></svg>
                <svg height="16" width="16" class="octicon octicon-check color-fg-success m-2 d-none"><path d="${IconList["check"]}"></path></svg>
            </clipboard-copy>
            <div class="copy-feedback">Copied!</div>
        </div>
    `;

    const handleCodeElements = (selector = '') => {
        document.querySelectorAll(selector).forEach(codeElement => {
            const codeContent = codeElement.innerHTML;
            const newStructure = document.createElement('div');
            newStructure.className = 'snippet-clipboard-content position-relative overflow-auto';
            newStructure.innerHTML = createClipboardHTML(codeContent);

            const parentElement = codeElement.parentElement;
            if (selector.includes('highlight')) {
                parentElement.insertBefore(newStructure, codeElement.nextSibling);
                parentElement.removeChild(codeElement);
            } else {
                parentElement.parentElement.replaceChild(newStructure, parentElement);
            }
        });
    };

    handleCodeElements('pre.notranslate > code.notranslate');
    handleCodeElements('div.highlight > pre.notranslate');

    let currentFeedback = null;
    document.querySelectorAll('clipboard-copy').forEach(copyButton => {
        copyButton.addEventListener('click', () => {
            const codeContent = copyButton.closest('.snippet-clipboard-content').innerText;
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = codeContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);

            const copyIcon = copyButton.querySelector('.octicon-copy');
            const checkIcon = copyButton.querySelector('.octicon-check');
            const copyFeedback = copyButton.nextElementSibling;

            if (currentFeedback && currentFeedback !== copyFeedback) {currentFeedback.style.display = 'none';}
            currentFeedback = copyFeedback;

            copyIcon.classList.add('d-none');
            checkIcon.classList.remove('d-none');
            copyFeedback.style.display = 'block';
            copyButton.style.borderColor = 'var(--color-success-fg)';

            setTimeout(() => {
                copyIcon.classList.remove('d-none');
                checkIcon.classList.add('d-none');
                copyFeedback.style.display = 'none';
                copyButton.style.borderColor = '';
            }, 2000);
        });
    });
});

</script>
<script>function fixHome(){var t=document.querySelector('.blogTitle');var i=document.querySelector('.avatar');if(t){t.style.cursor='pointer';t.onclick=function(){window.location.href='/';}}if(i){i.style.cursor='pointer';i.onclick=function(){window.location.href='/';}}}window.onload=fixHome;setInterval(fixHome,1000);</script><script src='/plugins/articletoc.js'></script><script src='/plugins/lightbox.js'></script>

</html>
